# V3 æ¨¡å—é‡æ„æ–¹æ¡ˆ - çƒ­ç‚¹ + é€‰é¢˜ + å†™ä½œ

> åˆ›å»ºæ—¶é—´ï¼š2026-03-01  
> çŠ¶æ€ï¼šå¾…å¼€å‘  
> ä¼˜å…ˆçº§ï¼šP0

---

## ğŸ“‹ èƒŒæ™¯ä¸ç›®æ ‡

### ç°çŠ¶é—®é¢˜

| æ¨¡å— | é—®é¢˜ | å½±å“ |
|------|------|------|
| **çƒ­ç‚¹é‡‡é›†** | æ•°æ®åˆ†æ•£ã€æ— å±•ç¤ºç•Œé¢ã€ç­›é€‰èƒ½åŠ›å¼± | è¿è¥æ— æ³•å¿«é€Ÿæ‰¾åˆ°çƒ­ç‚¹ |
| **æ™ºèƒ½é€‰é¢˜** | å•è¡Œä¸šã€å•è§’åº¦ã€æ— æ‰¹é‡èƒ½åŠ› | é€‰é¢˜æ•ˆç‡ä½ï¼Œè¦†ç›–é¢çª„ |
| **å†™ä½œæ¨¡å—** | æŠ€å·§å•ä¸€ã€æ— å±•ç¤ºã€æ— å¤ç”¨ | æ–‡ç« è´¨é‡ä¸ç¨³å®š |

### V3 ç›®æ ‡

1. **çƒ­ç‚¹æ¨¡å—** - å¯è§†åŒ–å±•ç¤º + å¤šç»´åº¦ç­›é€‰ + å®æ—¶åˆ·æ–°
2. **é€‰é¢˜æ¨¡å—** - å¤šè¡Œä¸š + å¤šè§’åº¦ + æ‰¹é‡ç”Ÿæˆ + æ™ºèƒ½è¯„åˆ†
3. **å†™ä½œæ¨¡å—** - æŠ€å·§åº“ + é£æ ¼å®šä¹‰ + å¯è§†åŒ–é…ç½® + è´¨é‡è¯„ä¼°

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend (Web UI)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ çƒ­ç‚¹ä¸­å¿ƒ    â”‚  â”‚ é€‰é¢˜å·¥ä½œå°  â”‚  â”‚ å†™ä½œå·¥å‚            â”‚  â”‚
â”‚  â”‚ - å®æ—¶çƒ­æ¦œ  â”‚  â”‚ - å¤šè¡Œä¸š    â”‚  â”‚ - æŠ€å·§åº“            â”‚  â”‚
â”‚  â”‚ - ç­›é€‰å™¨    â”‚  â”‚ - å¤šè§’åº¦    â”‚  â”‚ - é£æ ¼å®šä¹‰          â”‚  â”‚
â”‚  â”‚ - æœç´¢      â”‚  â”‚ - æ‰¹é‡ç”Ÿæˆ  â”‚  â”‚ - å¯è§†åŒ–é…ç½®        â”‚  â”‚
â”‚  â”‚ - è®¢é˜…      â”‚  â”‚ - æ™ºèƒ½è¯„åˆ†  â”‚  â”‚ - è´¨é‡è¯„ä¼°          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Layer (FastAPI)                     â”‚
â”‚  /api/v3/hotnews    /api/v3/topics    /api/v3/writing       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Core Services                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ HotService  â”‚  â”‚TopicService â”‚  â”‚ WritingService      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Layer                              â”‚
â”‚  MySQL (çƒ­ç‚¹/é€‰é¢˜) + SQLite (å†™ä½œæŠ€å·§) + RAG (çŸ¥è¯†åº“)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¥ æ¨¡å—ä¸€ï¼šçƒ­ç‚¹ä¸­å¿ƒ (HotNews Center)

### åŠŸèƒ½éœ€æ±‚

#### 1.1 å®æ—¶çƒ­æ¦œå±•ç¤º
- [ ] æ”¯æŒ 50+ å¹³å°çƒ­æ¦œèšåˆå±•ç¤º
- [ ] æŒ‰å¹³å°/åˆ†ç±»/æ—¶é—´æ’åº
- [ ] å®æ—¶åˆ·æ–° (5 åˆ†é’Ÿ/æ¬¡)
- [ ] çƒ­åº¦è¶‹åŠ¿å›¾ (24 å°æ—¶)

#### 1.2 å¤šç»´åº¦ç­›é€‰
- [ ] **å¹³å°ç­›é€‰**: å¾®åš/çŸ¥ä¹/B ç«™/æŠ–éŸ³/å°çº¢ä¹¦ç­‰
- [ ] **åˆ†ç±»ç­›é€‰**: ç§‘æŠ€/æ•™è‚²/è´¢ç»/å¨±ä¹/ä½“è‚²ç­‰
- [ ] **æ—¶é—´ç­›é€‰**: 1 å°æ—¶/6 å°æ—¶/24 å°æ—¶/7 å¤©
- [ ] **çƒ­åº¦ç­›é€‰**: ğŸ”¥100 ä¸‡+/ğŸ”¥50 ä¸‡+/ğŸ”¥10 ä¸‡+
- [ ] **å…³é”®è¯æœç´¢**: å…¨æ–‡æ£€ç´¢

#### 1.3 çƒ­ç‚¹è®¢é˜…
- [ ] å…³é”®è¯è®¢é˜… (è‡ªåŠ¨æ¨é€ç›¸å…³çƒ­ç‚¹)
- [ ] å¹³å°è®¢é˜… (ç‰¹å®šå¹³å°æ›´æ–°æé†’)
- [ ] è¡Œä¸šè®¢é˜… (æ•™è‚²/ç§‘æŠ€ç­‰å‚ç›´é¢†åŸŸ)

#### 1.4 çƒ­ç‚¹è¯¦æƒ…
- [ ] å®Œæ•´å†…å®¹å±•ç¤º
- [ ] æ¥æºé“¾æ¥
- [ ] çƒ­åº¦è¶‹åŠ¿
- [ ] ç›¸å…³è¯„è®º/è®¨è®º
- [ ] ä¸€é”®é€‰é¢˜ (è·³è½¬åˆ°é€‰é¢˜æ¨¡å—)

### æŠ€æœ¯å®ç°

```python
# core/hotnews_service.py
class HotNewsService:
    def get_hotlist(
        self,
        platform: str = None,      # å¹³å°ç­›é€‰
        category: str = None,      # åˆ†ç±»ç­›é€‰
        time_range: str = "24h",   # æ—¶é—´èŒƒå›´
        min_heat: int = 0,         # æœ€ä½çƒ­åº¦
        keyword: str = None,       # å…³é”®è¯æœç´¢
        page: int = 1,
        page_size: int = 50
    ) -> PaginatedResponse
    
    def get_trend(self, item_id: str) -> TrendData
    def subscribe(self, keyword: str, user_id: str)
    def get_subscriptions(self, user_id: str) -> List[Subscription]
```

### æ•°æ®åº“è®¾è®¡

```sql
-- çƒ­ç‚¹è¡¨
CREATE TABLE hotnews (
    id VARCHAR(64) PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    content TEXT,
    platform VARCHAR(50),
    category VARCHAR(50),
    heat_count INT,
    heat_level VARCHAR(20),  -- ğŸ”¥100 ä¸‡+/ğŸ”¥50 ä¸‡+/ğŸ”¥10 ä¸‡+
    source_url VARCHAR(500),
    publish_time DATETIME,
    crawl_time DATETIME,
    trend_data JSON,         -- 24 å°æ—¶çƒ­åº¦è¶‹åŠ¿
    extra_data JSON,         -- æ‰©å±•å­—æ®µ
    INDEX idx_platform (platform),
    INDEX idx_category (category),
    INDEX idx_heat (heat_count),
    INDEX idx_time (publish_time)
);

-- è®¢é˜…è¡¨
CREATE TABLE hotnews_subscriptions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(64),
    keyword VARCHAR(100),
    platform VARCHAR(50),
    category VARCHAR(50),
    notify_enabled BOOLEAN DEFAULT TRUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### API è®¾è®¡

```yaml
GET /api/v3/hotnews
  params:
    - platform: string (optional)
    - category: string (optional)
    - time_range: string (1h|6h|24h|7d)
    - min_heat: number
    - keyword: string
    - page: number
    - page_size: number
  response:
    data: HotNews[]
    total: number
    page: number

GET /api/v3/hotnews/:id/trend
  response:
    item_id: string
    trend: [{time: string, heat: number}[]]

POST /api/v3/hotnews/subscribe
  body:
    keyword: string
    platform?: string
    category?: string
```

---

## ğŸ¯ æ¨¡å—äºŒï¼šæ™ºèƒ½é€‰é¢˜ (Topic Intelligence)

### åŠŸèƒ½éœ€æ±‚

#### 2.1 å¤šè¡Œä¸šæ”¯æŒ
- [ ] **é¢„ç½®è¡Œä¸š**: æ•™è‚²/ç§‘æŠ€/è´¢ç»/å¨±ä¹/ä½“è‚²/å¥åº·/èŒåœº/ç”Ÿæ´»
- [ ] **è‡ªå®šä¹‰è¡Œä¸š**: ç”¨æˆ·å¯åˆ›å»ºæ–°è¡Œä¸š
- [ ] **è¡Œä¸šé…ç½®**: æ¯ä¸ªè¡Œä¸šç‹¬ç«‹é…ç½®æ•°æ®æºã€è¯„åˆ†æƒé‡

#### 2.2 å¤šè§’åº¦é€‰é¢˜
æ¯ä¸ªé€‰é¢˜æ”¯æŒ 8 ç§åˆ‡å…¥è§’åº¦:
- [ ] ğŸ” **æ·±åº¦åˆ†æ**: äº‹ä»¶èƒŒåçš„åŸå› /é€»è¾‘
- [ ] ğŸ“Š **æ•°æ®è§£è¯»**: ç”¨æ•°æ®è¯´è¯
- [ ] ğŸ’¡ **è§‚ç‚¹è¯„è®º**: ç‹¬ç‰¹è§†è§’/äº‰è®®æ€§
- [ ] ğŸ“ **çŸ¥è¯†ç§‘æ™®**: ä¸“ä¸šçŸ¥è¯†æ™®åŠ
- [ ] ğŸ˜‚ **å¹½é»˜è°ƒä¾ƒ**: è½»æ¾æœ‰è¶£
- [ ] âš ï¸ **é£é™©è­¦ç¤º**: æé†’/é¿å‘
- [ ] ğŸš€ **è¶‹åŠ¿é¢„æµ‹**: æœªæ¥èµ°å‘
- [ ] ğŸ‘¥ **äººç‰©æ•…äº‹**: ä»¥äººä¸ºæ ¸å¿ƒ

#### 2.3 æ‰¹é‡ç”Ÿæˆ
- [ ] ä¸€é”®ç”Ÿæˆ 10/20/50 ä¸ªé€‰é¢˜
- [ ] æŒ‰è¡Œä¸šæ‰¹é‡ç”Ÿæˆ
- [ ] æŒ‰çƒ­ç‚¹æ‰¹é‡ç”Ÿæˆ
- [ ] å»é‡è¿‡æ»¤

#### 2.4 æ™ºèƒ½è¯„åˆ†
5 ç»´è¯„åˆ†æ¨¡å‹:
- [ ] **çƒ­åº¦åˆ†** (30%): åŸºäºå¹³å°çƒ­åº¦
- [ ] **æ½œåŠ›åˆ†** (25%): è¶‹åŠ¿é¢„æµ‹
- [ ] **åŒ¹é…åˆ†** (20%): ä¸è´¦å·å®šä½åŒ¹é…åº¦
- [ ] **æ–°é¢–åˆ†** (15%): ç‹¬ç‰¹æ€§/å·®å¼‚åŒ–
- [ ] **å¯è¡Œåˆ†** (10%): ç´ æå……è¶³åº¦

#### 2.5 é€‰é¢˜å·¥ä½œå°
- [ ] é€‰é¢˜åˆ—è¡¨ (æ”¯æŒæ’åº/ç­›é€‰)
- [ ] é€‰é¢˜è¯¦æƒ… (å®Œæ•´åˆ†æ)
- [ ] é€‰é¢˜å¯¹æ¯” (å¤šé€‰å¯¹æ¯”)
- [ ] é€‰é¢˜æ”¶è—
- [ ] ä¸€é”®å†™ä½œ (è·³è½¬åˆ°å†™ä½œæ¨¡å—)

### æŠ€æœ¯å®ç°

```python
# core/topic_service.py
class TopicService:
    def generate_topics(
        self,
        industries: List[str],      # å¤šè¡Œä¸š
        angles: List[str],          # å¤šè§’åº¦
        hotnews_ids: List[str] = None,  # åŸºäºçƒ­ç‚¹
        count: int = 20,
        min_score: float = 60.0
    ) -> List[Topic]
    
    def score_topic(self, topic: Topic) -> TopicScore
    def compare_topics(self, topic_ids: List[str]) -> ComparisonResult
    def get_industries(self) -> List[Industry]
    def get_angles(self) -> List[Angle]
```

### æ•°æ®ç»“æ„

```python
@dataclass
class Topic:
    id: str
    title: str
    industry: str           # æ‰€å±è¡Œä¸š
    angle: str              # åˆ‡å…¥è§’åº¦
    source_hotnews: List[str]  # æ¥æºçƒ­ç‚¹ ID
    description: str        # é€‰é¢˜æè¿°
    key_points: List[str]   # æ ¸å¿ƒè¦ç‚¹
    score: TopicScore
    created_at: datetime

@dataclass
class TopicScore:
    total: float            # æ€»åˆ† (0-100)
    heat: float             # çƒ­åº¦åˆ† (0-100)
    potential: float        # æ½œåŠ›åˆ† (0-100)
    match: float            # åŒ¹é…åˆ† (0-100)
    novelty: float          # æ–°é¢–åˆ† (0-100)
    feasibility: float      # å¯è¡Œåˆ† (0-100)
    grade: str              # S/A/B/C/D
```

### API è®¾è®¡

```yaml
POST /api/v3/topics/generate
  body:
    industries: ["æ•™è‚²", "ç§‘æŠ€"]
    angles: ["æ·±åº¦åˆ†æ", "æ•°æ®è§£è¯»"]
    hotnews_ids: ["xxx", "yyy"]
    count: 20
  response:
    topics: Topic[]

GET /api/v3/topics/industries
  response:
    industries: [{id, name, config}[]]

POST /api/v3/topics/:id/score
  response:
    score: TopicScore

GET /api/v3/topics/compare
  params: ids=xxx,yyy,zzz
  response:
    comparison: ComparisonResult
```

---

## âœï¸ æ¨¡å—ä¸‰ï¼šå†™ä½œå·¥å‚ (Writing Factory)

### åŠŸèƒ½éœ€æ±‚

#### 3.1 å†™ä½œæŠ€å·§åº“
é¢„ç½® 20+ å†™ä½œæŠ€å·§:
- [ ] **SCQA æ¶æ„**: æƒ…å¢ƒ - å†²çª - é—®é¢˜ - ç­”æ¡ˆ
- [ ] **é‡‘å­—å¡”åŸç†**: ç»“è®ºå…ˆè¡Œ + ä»¥ä¸Šç»Ÿä¸‹
- [ ] **æ•…äº‹åŒ–å™è¿°**: äººç‰© + å†²çª + è½¬æŠ˜
- [ ] **æ•°æ®é©±åŠ¨**: ç”¨æ•°æ®æ”¯æ’‘è§‚ç‚¹
- [ ] **å¯¹æ¯”æ‰‹æ³•**: å‰åå¯¹æ¯”/æ­£åå¯¹æ¯”
- [ ] **å¼•ç”¨æƒå¨**: ä¸“å®¶/æœºæ„/æŠ¥å‘Š
- [ ] **é‡‘å¥æ‰“é€ **: åˆ¶é€ ä¼ æ’­ç‚¹
- [ ] **æƒ…ç»ªè°ƒåŠ¨**: ç„¦è™‘/å…±é¸£/å¸Œæœ›
- [ ] **æ‚¬å¿µè®¾ç½®**: å¼•å‘å¥½å¥‡
- [ ] **è¡ŒåŠ¨å·å¬**: CTA è®¾è®¡

#### 3.2 é£æ ¼å®šä¹‰
é¢„ç½® 10+ å†™ä½œé£æ ¼:
- [ ] ğŸ“ **å­¦æœ¯æ·±åº¦**: ä¸¥è°¨ + å¼•ç”¨ + ç†è®º
- [ ] ğŸ“° **æ–°é—»æŠ¥é“**: å®¢è§‚ + äº‹å® + æ—¶æ•ˆ
- [ ] ğŸ’¼ **å•†ä¸šåˆ†æ**: é€»è¾‘ + æ•°æ® + æ´å¯Ÿ
- [ ] ğŸ˜„ **å¹½é»˜è°ƒä¾ƒ**: è½»æ¾ + æ¢— + åæ§½
- [ ] ğŸŒ¸ **æ–‡è‰ºæŠ’æƒ…**: æ„Ÿæ€§ + ä¿®è¾ + æ„å¢ƒ
- [ ] ğŸ”¥ **çƒ­è¡€æ¿€åŠ±**: æ¿€æƒ… + å·å¬ + è¡ŒåŠ¨
- [ ] ğŸ¤– **æå®¢æŠ€æœ¯**: ä¸“ä¸š + æœ¯è¯­ + å®æ“
- [ ] ğŸ‘©â€ğŸ« **æ•™è‚²ç§‘æ™®**: æ˜“æ‡‚ + æ¡ˆä¾‹ + äº’åŠ¨
- [ ] ğŸ’° **è´¢ç»è¯„è®º**: çŠ€åˆ© + æ´å¯Ÿ + é¢„æµ‹
- [ ] ğŸ­ **æ¯’èˆŒè¯„è®º**: å°–é” + æ‰¹åˆ¤ + åè½¬

#### 3.3 å¯è§†åŒ–é…ç½®
- [ ] æŠ€å·§é€‰æ‹© (å¤šé€‰/æƒé‡)
- [ ] é£æ ¼é€‰æ‹© (å•é€‰/æ··åˆ)
- [ ] å­—æ•°è®¾å®š (500/1000/2000/3000+)
- [ ] ç»“æ„æ¨¡æ¿ (5 ç§é¢„è®¾)
- [ ] è¯­æ°”è°ƒèŠ‚ (æ­£å¼/è½»æ¾/ä¸¥è‚ƒ/å¹½é»˜)

#### 3.4 è´¨é‡è¯„ä¼°
- [ ] **å†…å®¹è´¨é‡**: å­—æ•°/æ•°æ®/å¼•ç”¨
- [ ] **ç»“æ„è´¨é‡**: æ®µè½/å°æ ‡é¢˜/é€»è¾‘
- [ ] **è¡¨è¾¾è´¨é‡**: æµç•…åº¦/é‡‘å¥/ä¿®è¾
- [ ] **ä¼ æ’­æ½œåŠ›**: æ ‡é¢˜/å¼€ç¯‡/è¯é¢˜æ€§
- [ ] **AI ç—•è¿¹æ£€æµ‹**: å¥—è¯/æœºå™¨æ„Ÿ

#### 3.5 å†™ä½œæµç¨‹
1. é€‰æ‹©é€‰é¢˜
2. é…ç½®æŠ€å·§ + é£æ ¼
3. ç”Ÿæˆå¤§çº² (å¯ç¼–è¾‘)
4. ç”Ÿæˆåˆç¨¿
5. è´¨é‡è¯„ä¼°
6. ä¼˜åŒ–æ”¹è¿›
7. æœ€ç»ˆå®šç¨¿

### æŠ€æœ¯å®ç°

```python
# core/writing_service.py
class WritingService:
    def get_techniques(self) -> List[WritingTechnique]
    def get_styles(self) -> List[WritingStyle]
    
    def generate_outline(
        self,
        topic: Topic,
        techniques: List[str],
        style: str,
        structure: str
    ) -> Outline
    
    def generate_draft(
        self,
        outline: Outline,
        techniques: List[str],
        style: str,
        word_count: int
    ) -> Draft
    
    def evaluate_quality(self, draft: Draft) -> QualityReport
    def optimize_draft(self, draft: Draft, feedback: Feedback) -> Draft
```

### æ•°æ®ç»“æ„

```python
@dataclass
class WritingTechnique:
    id: str
    name: str
    description: str
    prompt_template: str
    examples: List[str]

@dataclass
class WritingStyle:
    id: str
    name: str
    description: str
    tone: str           # æ­£å¼/è½»æ¾/ä¸¥è‚ƒ/å¹½é»˜
    characteristics: List[str]
    prompt_template: str

@dataclass
class Outline:
    title: str
    sections: List[Section]
    word_count_plan: Dict[str, int]

@dataclass
class QualityReport:
    total_score: float
    content_score: float
    structure_score: float
    expression_score: float
    viral_score: float
    ai_trace_level: float
    recommendations: List[str]
```

### API è®¾è®¡

```yaml
GET /api/v3/writing/techniques
  response:
    techniques: WritingTechnique[]

GET /api/v3/writing/styles
  response:
    styles: WritingStyle[]

POST /api/v3/writing/outline
  body:
    topic_id: string
    techniques: string[]
    style: string
    structure: string
  response:
    outline: Outline

POST /api/v3/writing/draft
  body:
    outline: Outline
    techniques: string[]
    style: string
    word_count: number
  response:
    draft: Draft

POST /api/v3/writing/evaluate
  body:
    draft: Draft
  response:
    quality: QualityReport
```

---

## ğŸ“¦ å¼€å‘è®¡åˆ’

### Phase 1: çƒ­ç‚¹ä¸­å¿ƒ (3 å¤©)
- Day 1: æ•°æ®åº“è®¾è®¡ + API æ¡†æ¶
- Day 2: æ•°æ®é‡‡é›†æ•´åˆ + ç­›é€‰åŠŸèƒ½
- Day 3: å‰ç«¯ç•Œé¢ + å®æ—¶åˆ·æ–°

### Phase 2: æ™ºèƒ½é€‰é¢˜ (4 å¤©)
- Day 1: è¡Œä¸š/è§’åº¦é…ç½®ç³»ç»Ÿ
- Day 2: æ‰¹é‡ç”Ÿæˆç®—æ³•
- Day 3: 5 ç»´è¯„åˆ†æ¨¡å‹
- Day 4: é€‰é¢˜å·¥ä½œå°å‰ç«¯

### Phase 3: å†™ä½œå·¥å‚ (5 å¤©)
- Day 1: æŠ€å·§åº“ + é£æ ¼åº“
- Day 2: å¤§çº²ç”Ÿæˆ
- Day 3: åˆç¨¿ç”Ÿæˆ
- Day 4: è´¨é‡è¯„ä¼°
- Day 5: å¯è§†åŒ–é…ç½®ç•Œé¢

### Phase 4: è”è°ƒæµ‹è¯• (2 å¤©)
- Day 1: ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
- Day 2: æ€§èƒ½ä¼˜åŒ– + Bug ä¿®å¤

**æ€»è®¡**: 14 å¤©

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| **å‰ç«¯** | React + Ant Design + ECharts |
| **åç«¯** | FastAPI + SQLAlchemy |
| **æ•°æ®åº“** | MySQL (ä¸šåŠ¡) + SQLite (é…ç½®) |
| **ç¼“å­˜** | Redis (çƒ­ç‚¹æ•°æ®) |
| **å‘é‡åº“** | LanceDB (RAG) |
| **AI** | AnythingLLM (ç»Ÿä¸€è·¯ç”±) |

---

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| çƒ­ç‚¹å“åº”æ—¶é—´ | < 5 ç§’ |
| é€‰é¢˜ç”Ÿæˆæ—¶é—´ | < 30 ç§’ (20 ä¸ª) |
| æ–‡ç« ç”Ÿæˆæ—¶é—´ | < 3 åˆ†é’Ÿ (2000 å­—) |
| è´¨é‡è¯„åˆ† | > 75 åˆ† (A çº§) |
| ç”¨æˆ·æ»¡æ„åº¦ | > 85% |

---

## ğŸ” å®‰å…¨ä¸æƒé™

- [ ] API è®¤è¯ (JWT)
- [ ] ç”¨æˆ·éš”ç¦» (å¤šç§Ÿæˆ·)
- [ ] é€Ÿç‡é™åˆ¶ (é˜²æ»¥ç”¨)
- [ ] æ•°æ®åŠ å¯† (æ•æ„Ÿä¿¡æ¯)
- [ ] æ“ä½œæ—¥å¿— (å®¡è®¡)

---

*æ–‡æ¡£çŠ¶æ€ï¼šå¾…è¯„å®¡ â†’ å¾…å¼€å‘*
