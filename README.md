# AI Article Publisher - 项目概述

> AI 写作全流程自动化系统：热点收集 → 选题 → 写作 → 审查订正 → 发布

## 📋 项目信息

| 项目 | 内容 |
|------|------|
| **项目名称** | ai-article-publisher |
| **项目目标** | 实现 AI 写作全流程自动化：热点自动收集、智能选题、AI写作、审查订正、自动发布 |
| **技术栈** | OpenClaw + 微信公众号 API + AI 模型 |
| **启动日期** | 2026-02-21 |
| **负责人** | AI Assistant (writer session) |

---

## 🎯 核心流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        AI Article Publisher 全流程                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐ │
│   │ 热点收集  │ → │ 智能选题  │ → │  AI写作  │ → │ 审查订正  │ → │ 自动发布  │ │
│   └──────────┘   └──────────┘   └──────────┘   └──────────┘   └──────────┘ │
│        │              │              │              │              │        │
│        ▼              ▼              ▼              ▼              ▼        │
│   ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐ │
│   │ 20+数据源│   │ AI评分   │   │ 多风格   │   │ 自动审核  │   │ 草稿推送  │ │
│   │ 关键词   │   │ 竞品分析 │   │ 大纲生成 │   │ 敏感词   │   │ 封面上传  │ │
│   │ 热度排序 │   │ 受众匹配 │   │ 正文撰写 │   │ 事实核查  │   │ 定时发布  │ │
│   │ 自动推送 │   │ 选题推荐 │   │ 配图建议 │   │ 人工确认  │   │ 数据追踪  │ │
│   └──────────┘   └──────────┘   └──────────┘   └──────────┘   └──────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 📦 模块详解

### 模块一：热点自动收集 (Hot News Collector)

**功能目标**: 每日自动采集行业热点，筛选出值得写作的选题

**数据源 (20+)**:
| 类别 | 数据源 |
|------|--------|
| 科技 | Hacker News, GitHub Trending, V2EX, 少数派, 掘金, IT之家, ProductHunt |
| 中文热点 | 微博热搜, 知乎热榜, 百度热榜, 抖音热点, B站热门, 今日头条 |
| 财经 | 36氪, 华尔街见闻, 财联社 |
| 技术 | Hugging Face, arXiv, Papers With Code |

**核心功能**:
- [x] 多数据源聚合采集
- [x] 关键词过滤（可配置）
- [x] 热度评分算法
- [x] 自动去重
- [x] 分类标签
- [x] 定时采集（Cron）
- [x] 推送通知

**可用资源**:
- `wemp-operator` - 已实现 20+ 数据源采集

---

### 模块二：智能选题 (Topic Selector)

**功能目标**: AI 分析热点价值，推荐最佳选题

**核心功能**:
- [ ] AI 热点价值评分 (0-100)
- [ ] 目标受众匹配度分析
- [ ] 竞品文章分析（搜索相关文章）
- [ ] 时效性评估
- [ ] 选题推荐排序
- [ ] 选题理由生成

**AI 评分维度**:
```
选题评分 = 热度分(30%) + 时效分(20%) + 受众匹配分(25%) + 竞争分(15%) + 写作难度分(10%)
```

**输出格式**:
```json
{
  "topic": "GPT-5 发布前瞻：能力提升与行业影响",
  "score": 87,
  "reason": "热度高、时效性强、受众面广、竞争适中",
  "suggested_angle": "技术视角 + 行业影响分析",
  "suggested_length": "2000-2500字",
  "deadline": "24小时内发布最佳"
}
```

---

### 模块三：AI 写作 (AI Writer)

**功能目标**: 根据选题自动生成高质量文章

**核心功能**:
- [ ] 大纲自动生成
- [ ] 多风格写作（技术干货/故事叙事/观点评论/新闻资讯）
- [ ] 分段撰写（引言、正文、结尾）
- [ ] 配图建议
- [ ] 标题生成（A/B 测试候选）
- [ ] 摘要生成

**写作风格**:
| 风格 | 特点 | 适用场景 |
|------|------|----------|
| 技术干货 | 专业、深入、有代码 | 技术教程、工具评测 |
| 故事叙事 | 生动、有趣、有情节 | 行业故事、案例分析 |
| 观点评论 | 有态度、有论据、有深度 | 热点评论、行业分析 |
| 新闻资讯 | 简洁、准确、时效性强 | 行业动态、产品发布 |

**可用资源**:
- `wechat-article-skill` - 已实现 AI 写作 + 封面生成
- `wechat-mp-writer-skill-mxx` - AI 去味润色

---

### 模块四：审查订正 (Review & Correction)

**功能目标**: 确保文章质量，避免问题发布

**审查维度**:
```
┌─────────────────────────────────────────────────────────────┐
│                      文章审查流程                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐    │
│  │ 自动审核 │ → │ 敏感词  │ → │ 事实核查 │ → │ 人工确认 │    │
│  └─────────┘   └─────────┘   └─────────┘   └─────────┘    │
│       │             │             │             │          │
│       ▼             ▼             ▼             ▼          │
│  ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐    │
│  │ 语法检查 │   │ 政治敏感 │   │ 数据来源 │   │ 预览确认 │    │
│  │ 错别字   │   │ 色情暴力 │   │ 引用核查 │   │ 修改反馈 │    │
│  │ 标点规范 │   │ 广告违规 │   │ 逻辑自洽 │   │ 最终批准 │    │
│  │ 格式问题 │   │ 谣言鉴别 │   │ 时间地点 │   │ 发布授权 │    │
│  └─────────┘   └─────────┘   └─────────┘   └─────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**自动审核功能**:
- [ ] 语法检查（错别字、标点）
- [ ] 敏感词检测（政治、色情、广告）
- [ ] 事实核查（数据来源、引用验证）
- [ ] 逻辑一致性检查
- [ ] 格式规范检查
- [ ] AI 痕迹检测

**人工确认流程**:
- [ ] 文章预览（正文 + 封面）
- [ ] 问题标注
- [ ] 修改建议
- [ ] 确认发布 / 退回修改

---

### 模块五：自动发布 (Auto Publisher)

**功能目标**: 一键发布到公众号草稿箱，支持定时发布

**核心功能**:
- [ ] Markdown → 微信格式转换
- [ ] 封面图生成（4 种风格 × 6 套配色）
- [ ] 封面图上传
- [ ] 正文图片上传（微信 CDN）
- [ ] 草稿箱推送
- [ ] 定时发布调度
- [ ] 发布状态查询
- [ ] 发布后数据追踪

**发布流程**:
```
确认发布
    │
    ▼
生成封面图 ────────→ 上传封面 ────────→ 获取 thumb_media_id
    │                                            │
    ▼                                            ▼
转换格式 ──────────→ 上传正文图片 ────────→ 替换图片链接
    │                                            │
    ▼                                            ▼
生成 HTML ──────────→ 创建草稿 ────────→ 返回 media_id
    │                                            │
    ▼                                            ▼
预览确认 ──────────→ 发布草稿 ────────→ 发布成功
```

**可用资源**:
- `wechat-publisher` - Markdown 发布
- `wechat-article-skill` - 封面生成 + 草稿推送

---

## 🏗️ 技术架构

### 整体架构

```
┌─────────────────────────────────────────────────────────────────────┐
│                           OpenClaw Gateway                          │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
│  │ wemp            │  │ wemp-operator   │  │ wechat-article  │     │
│  │ (Channel Plugin)│  │ (Skill)         │  │ -skill (Skill)  │     │
│  │                 │  │                 │  │                 │     │
│  │ • 消息收发      │  │ • 热点采集      │  │ • AI 写作       │     │
│  │ • 双Agent模式   │  │ • 数据分析      │  │ • 封面生成      │     │
│  │ • 菜单管理      │  │ • 70+ API      │  │ • 草稿发布      │     │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
│           │                   │                    │                │
│           └───────────────────┼────────────────────┘                │
│                               │                                     │
│                    ┌──────────▼──────────┐                          │
│                    │   AI Article        │                          │
│                    │   Publisher Core    │                          │
│                    │   (待开发)          │                          │
│                    │                     │                          │
│                    │ • 选题评分         │                          │
│                    │ • 审查订正         │                          │
│                    │ • 流程编排         │                          │
│                    └─────────────────────┘                          │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
                               │
                    ┌──────────▼──────────┐
                    │   微信公众号 API    │
                    │   (草稿/发布/数据)  │
                    └─────────────────────┘
```

### 依赖关系

```
ai-article-publisher (核心)
    │
    ├── wemp (插件) ───────────────────── 必需，公众号消息收发
    │
    ├── wemp-operator (技能) ──────────── 必需，热点采集 + API
    │
    ├── wechat-article-skill (技能) ───── 推荐，写作 + 发布
    │
    └── [待开发] 审查订正模块 ──────────── 核心，需要开发
```

---

## 📊 开发计划

### Phase 1: 环境搭建 (1-2天)

**目标**: 安装现有资源，验证基础功能

- [ ] 安装 wemp 插件
- [ ] 安装 wemp-operator Skill
- [ ] 安装 wechat-article-skill
- [ ] 配置公众号凭据
- [ ] 测试消息收发
- [ ] 测试热点采集
- [ ] 测试草稿发布

**验收标准**: 能通过自然语言完成"采集热点 → 发布草稿"基础流程

---

### Phase 2: 热点收集优化 (2-3天)

**目标**: 优化热点采集质量和效率

- [ ] 配置采集数据源
- [ ] 配置关键词过滤规则
- [ ] 配置采集频率（Cron）
- [ ] 实现热度评分算法
- [ ] 实现自动推送通知
- [ ] 测试采集质量

**验收标准**: 每日自动采集 50+ 条热点，筛选出 5 条高价值选题

---

### Phase 3: 智能选题开发 (3-4天)

**目标**: 实现 AI 选题评分和推荐

- [ ] 设计选题评分模型
- [ ] 实现竞品文章分析
- [ ] 实现受众匹配分析
- [ ] 实现选题推荐排序
- [ ] 开发选题理由生成
- [ ] 集成到工作流

**验收标准**: AI 评分 > 80 分的选题准确率 > 70%

---

### Phase 4: AI 写作增强 (2-3天)

**目标**: 优化写作质量和风格

- [ ] 配置写作风格模板
- [ ] 实现大纲生成
- [ ] 实现多风格写作
- [ ] 实现 AI 去味润色
- [ ] 实现标题 A/B 测试
- [ ] 实现配图建议

**验收标准**: 生成文章需通过人工审核，修改率 < 30%

---

### Phase 5: 审查订正系统 (4-5天) ⭐ 核心

**目标**: 建立完整的审查机制

- [ ] 实现语法检查
- [ ] 实现敏感词检测
- [ ] 实现事实核查（数据来源验证）
- [ ] 实现 AI 痕迹检测
- [ ] 实现人工确认流程
- [ ] 实现修改反馈机制
- [ ] 开发预览界面

**验收标准**: 敏感问题检出率 > 95%，误报率 < 5%

---

### Phase 6: 自动发布完善 (2-3天)

**目标**: 打通发布全流程

- [ ] 实现封面图自动生成
- [ ] 实现图片上传优化
- [ ] 实现定时发布调度
- [ ] 实现发布状态追踪
- [ ] 实现发布后数据统计

**验收标准**: 发布成功率 > 95%，支持定时发布

---

### Phase 7: 全流程整合 (3-4天)

**目标**: 端到端自动化

- [ ] 编写主流程编排脚本
- [ ] 配置定时任务（每日自动采集）
- [ ] 实现一键生成流程
- [ ] 实现异常处理和重试
- [ ] 添加日志和监控
- [ ] 编写使用文档

**验收标准**: 一句话触发全流程，从选题到发布无需人工干预（除确认环节）

---

### Phase 8: 测试与上线 (2-3天)

**目标**: 验证稳定性，正式上线

- [ ] 单元测试
- [ ] 集成测试
- [ ] 压力测试
- [ ] 文档完善
- [ ] 上线部署
- [ ] 监控告警配置

**验收标准**: 连续运行 7 天无重大错误

---

## 📈 时间估算

| 阶段 | 预计时间 | 累计 |
|------|----------|------|
| Phase 1: 环境搭建 | 1-2 天 | 2 天 |
| Phase 2: 热点收集优化 | 2-3 天 | 5 天 |
| Phase 3: 智能选题开发 | 3-4 天 | 9 天 |
| Phase 4: AI 写作增强 | 2-3 天 | 12 天 |
| Phase 5: 审查订正系统 | 4-5 天 | 17 天 |
| Phase 6: 自动发布完善 | 2-3 天 | 20 天 |
| Phase 7: 全流程整合 | 3-4 天 | 24 天 |
| Phase 8: 测试与上线 | 2-3 天 | 27 天 |

**总计: 约 3-4 周**

---

## 🎯 成功标准

### 功能指标

| 指标 | 目标 |
|------|------|
| 热点采集 | 每日 50+ 条，准确率 > 80% |
| 选题推荐 | AI 评分准确率 > 70% |
| 文章质量 | 人工审核通过率 > 70% |
| 审查准确率 | 敏感问题检出率 > 95% |
| 发布成功率 | > 95% |
| 全流程时间 | < 30 分钟（从选题到草稿） |

### 业务指标

| 指标 | 目标 |
|------|------|
| 人工干预率 | < 30%（主要在审查确认环节） |
| 日均产出 | 1-2 篇高质量文章 |
| 发布准时率 | > 90% |

---

## 🔗 相关文档

- [PROGRESS.md](./PROGRESS.md) - 进度跟踪
- [RESOURCES.md](./RESOURCES.md) - 资源清单

---

*最后更新: 2026-02-21*